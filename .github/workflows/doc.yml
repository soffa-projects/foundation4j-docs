name: build-docs
on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  publish:
    name: Build docs
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: retypeapp/action-build@v2
      - name: Update container width
        run: |
          ls -alr /tmp/tmp.*
          sed -i -e "s|max-width: 1800px;|max-width: 1400px;|g" /tmp/tmp./resources/css/retype.css
      - uses: retypeapp/action-github-pages@v2
        with:
          branch: docs
          directory: docs
          update-branch: true
  